{"version":3,"sources":["config.ts","services/api.ts","services/near.ts","pages/About/index.tsx","pages/Lockups/index.tsx","pages/UserLockups/index.tsx","components/Header/index.tsx","components/App/index.tsx","NearApp.tsx","index.tsx"],"names":["CONTRACT_NAME","process","config","env","REACT_APP_ENVIRONMENT","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","getConfig","NearApi","near","contract","walletConnection","this","WalletConnection","Contract","account","viewMethods","changeMethods","get_token_account_id","get_lockups_paged","then","response","map","id","data","Object","assign","successUrl","window","location","href","requestSignIn","undefined","signOut","getAccountId","acc_id","a","balance","getAccountBalance","b","amount","total","parseFloat","utils","format","formatNearAmount","console","error","NearContext","createContext","connectNear","keyStore","nearAPI","BrowserLocalStorageKeyStore","headers","api","signedAccountId","signedIn","About","lockups","token_account_id","className","length","Row","props","row","useState","open","setOpen","TableRow","sx","borderBottom","TableCell","IconButton","size","onClick","align","account_id","total_balance","claimed_balance","unclaimed_balance","style","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","margin","Typography","variant","gutterBottom","component","Table","TableHead","TableBody","schedule","x","scope","timestamp","Lockups","uniqueUsers","Array","from","Set","log","TableContainer","Paper","lockup","UserLockups","allLockups","userId","useParams","filter","JSON","stringify","Header","to","App","useContext","contractState","setContractState","token","setToken","useEffect","active","load","loadAllLockups","name","getTokenAccountId","keys","path","element","NearApp","setNear","nearConn","connect","value","useMemo","signIn","Provider","render","document","getElementById"],"mappings":"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","file":"static/js/main.2979e86a.chunk.js","sourcesContent":["export interface INearConfig {\n  networkId: string,\n  nodeUrl: string,\n  contractName: string,\n  walletUrl: string,\n  helperUrl: string,\n  explorerUrl: string,\n}\n\nconst CONTRACT_NAME = process.env.REACT_APP_CONTRACT_NAME || 'ft-lockup.demo000.ft-lockup.testnet';\n\n// TODO: move these data to envs\nfunction getConfig(): INearConfig {\n  const env = process.env.REACT_APP_ENVIRONMENT || 'development';\n  switch (env) {\n    case 'production':\n    case 'mainnet':\n      return {\n        networkId: 'mainnet',\n        nodeUrl: 'https://rpc.mainnet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.near.org',\n        helperUrl: 'https://helper.mainnet.near.org',\n        explorerUrl: 'https://explorer.mainnet.near.org',\n      };\n    case 'development':\n    case 'testnet':\n      return {\n        networkId: 'testnet',\n        nodeUrl: 'https://rpc.testnet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.testnet.near.org',\n        helperUrl: 'https://helper.testnet.near.org',\n        explorerUrl: 'https://explorer.testnet.near.org',\n      };\n    case 'betanet':\n      return {\n        networkId: 'betanet',\n        nodeUrl: 'https://rpc.betanet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.betanet.near.org',\n        helperUrl: 'https://helper.betanet.near.org',\n        explorerUrl: 'https://explorer.betanet.near.org',\n      };\n    case 'local':\n      return {\n        explorerUrl: '',\n        helperUrl: '',\n        networkId: 'local',\n        nodeUrl: 'http://localhost:3030',\n        walletUrl: 'http://localhost:4000/wallet',\n        contractName: CONTRACT_NAME,\n      };\n    case 'test':\n    case 'ci':\n      return {\n        explorerUrl: '',\n        helperUrl: '',\n        walletUrl: '',\n        networkId: 'shared-test',\n        nodeUrl: 'https://rpc.ci-testnet.near.org',\n        contractName: CONTRACT_NAME,\n      };\n    case 'ci-betanet':\n      return {\n        explorerUrl: '',\n        helperUrl: '',\n        walletUrl: '',\n        networkId: 'shared-test-staging',\n        nodeUrl: 'https://rpc.ci-betanet.near.org',\n        contractName: CONTRACT_NAME,\n      };\n    default:\n      throw Error(`Unconfigured environment '${env}'. Can be configured in src/config.js.`);\n  }\n}\n\nexport const config = getConfig();\n","import {\n  Near, Account, Contract, WalletConnection, utils,\n} from 'near-api-js';\nimport { config } from '../config';\n\nexport const fromNear = (amount: string): number => parseFloat(utils.format.formatNearAmount(amount || '0'));\nexport const toYoctoNear = (amount: number): string => utils.format.parseNearAmount(String(amount)) || '0';\n\ntype TViewMethods = {\n  'get_lockups_paged': any,\n  'get_token_account_id': any,\n};\n\ntype TNearAmount = string;\ntype TNearTimestamp = number;\n\ntype TCheckpoint = {\n  timestamp: TNearTimestamp,\n  balance: TNearAmount,\n};\n\ntype TLockup = {\n  id: number,\n  account_id: string,\n  claimed_balance: TNearAmount,\n  schedule: TCheckpoint[],\n  timestamp: TNearTimestamp,\n  total_balance: TNearAmount,\n  unclaimed_balance: TNearAmount,\n};\n\nclass NearApi {\n  private near: Near;\n\n  private contract: Contract;\n\n  private walletConnection: WalletConnection;\n\n  constructor(near: Near) {\n    this.near = near;\n    this.walletConnection = new WalletConnection(near, config.contractName);\n    this.contract = new Contract(this.walletConnection.account(), config.contractName, {\n      viewMethods: ['get_lockups_paged', 'get_token_account_id'],\n      changeMethods: [],\n    }) as (Contract & TViewMethods);\n  }\n\n  getTokenAccountId(): Promise<string> {\n    return (this.contract as Contract & TViewMethods).get_token_account_id();\n  }\n\n  loadAllLockups(): Promise<TLockup[]> {\n    return (this.contract as Contract & TViewMethods).get_lockups_paged().then(\n      (response: any) => response.map(([id, data]: [number, any]) => Object.assign(data, { id })),\n    );\n  }\n\n  signIn(): void {\n    const successUrl = window.location.href;\n    this.walletConnection.requestSignIn(config.contractName, undefined, successUrl);\n  }\n\n  signOut(): void {\n    this.walletConnection.signOut();\n  }\n\n  get_account_id(): string {\n    return this.walletConnection.getAccountId();\n  }\n\n  async account(acc_id: string): Promise<Account> {\n    return this.near.account(acc_id);\n  }\n\n  async get_balance(acc_id: string): Promise<number | null> {\n    const account = await this.account(acc_id);\n    let balance = null;\n    try {\n      const b = await account.getAccountBalance();\n      balance = fromNear(b.total);\n    } catch (e) {\n      console.error('Account not exist');\n    }\n    return balance;\n  }\n}\n\nexport default NearApi;\n","import * as nearAPI from 'near-api-js';\nimport { createContext } from 'react';\nimport { config, INearConfig } from '../config';\nimport NearApi from './api';\n\nexport interface INearProps {\n  config: INearConfig;\n  api: NearApi;\n  signedIn: boolean;\n  signedAccountId: string | null;\n}\n\nexport const NearContext = createContext<any>(null);\n\nexport const connectNear = async (): Promise<INearProps> => {\n  const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n  const near = await nearAPI.connect({ headers: {}, keyStore, ...config });\n  const walletConnection = new nearAPI.WalletConnection(near, config.contractName);\n  const api = new NearApi(near);\n  const signedAccountId = walletConnection.getAccountId();\n\n  return {\n    config,\n    api,\n    signedIn: !!signedAccountId,\n    signedAccountId,\n  };\n};\n","import { config } from '../../config';\n\nexport default function About(\n  { lockups, token_account_id }: { lockups: any[], token_account_id: string | null },\n) {\n  return (\n    <div className=\"container\">\n      <h1>About Page</h1>\n\n      <pre>\n        {`\n          This page should render all useful info about contract,\n          at least ft-lockup name, token name, contract ft balance,\n\n          ft-lockup account id: ${config.contractName}\n          token account id: ${token_account_id}\n\n          Total number of lockups: ${lockups.length}\n        `}\n      </pre>\n\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport {\n  Box,\n  Collapse,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n} from '@mui/material';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\n\nfunction Row(props: { row: ReturnType<any> }) {\n  const { row } = props;\n  const [open, setOpen] = useState(false);\n\n  // @ts-ignore\n  return (\n    <>\n      <TableRow sx={{ '& > *': { borderBottom: 'unset' } }}>\n        <TableCell>\n          <IconButton\n            aria-label=\"expand row\"\n            size=\"small\"\n            onClick={() => setOpen(!open)}\n          >\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n        <TableCell align=\"left\">{row.id}</TableCell>\n        <TableCell align=\"left\">{row.account_id}</TableCell>\n        <TableCell align=\"right\">{row.total_balance}</TableCell>\n        <TableCell align=\"right\">{row.claimed_balance}</TableCell>\n        <TableCell align=\"right\">{row.unclaimed_balance}</TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box sx={{ margin: 1 }}>\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\n                Lockup schedule\n              </Typography>\n              <Table size=\"small\" aria-label=\"purchases\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Date</TableCell>\n                    <TableCell>Amount</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {row.schedule.map((x: any) => (\n                    <TableRow key={x.timestamp}>\n                      <TableCell component=\"th\" scope=\"row\">\n                        {x.timestamp}\n                      </TableCell>\n                      <TableCell>{x.balance}</TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n\nexport default function Lockups({ lockups }: { lockups: any[] }) {\n  const uniqueUsers = Array.from(new Set(lockups.map((x) => x.account_id)));\n\n  console.log('unique users', uniqueUsers);\n\n  return (\n    <div className=\"container\">\n\n      <TableContainer component={Paper}>\n        <Table aria-label=\"collapsible table\">\n          <TableHead>\n            <TableRow>\n              <TableCell />\n              <TableCell align=\"left\">ID</TableCell>\n              <TableCell align=\"left\">Account ID</TableCell>\n              <TableCell align=\"right\">Total&nbsp;amount</TableCell>\n              <TableCell align=\"right\">Claimed&nbsp;amount</TableCell>\n              <TableCell align=\"right\">Available&nbsp;amount</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {lockups.map((lockup) => (\n              <Row key={lockup.id} row={lockup} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n    </div>\n  );\n}\n","import { useParams } from 'react-router-dom';\n\nexport default function UserLockups({ lockups: allLockups }: { lockups: any[] }) {\n  const { userId } = useParams();\n\n  const lockups = allLockups.filter((x) => x.account_id === userId);\n\n  console.log('user lockups', userId, lockups);\n\n  return (\n    <div>\n      <h1>User Lockups Page</h1>\n      This page should render all active lockups for specific user.\n\n      <h2>\n        User:\n        {' '}\n        {userId}\n      </h2>\n\n      Lockups:\n      <div>\n        {lockups.map((lockup) => (\n          <div key={lockup.id} className=\"lockup-row\">\n            <div>\n              {`\n                id: ${lockup.id},\n                account_id: ${lockup.account_id},\n                total amount: ${lockup.total_balance},\n                claimed amount: ${lockup.claimed_balance},\n                available amount: ${lockup.unclaimed_balance}\n              `}\n            </div>\n            <div>\n              {`Schedule: ${JSON.stringify(lockup.schedule, null, 2)}`}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { Link } from 'react-router-dom';\n\nexport default function Header() {\n  return (\n    <div className=\"header\">\n      <div className=\"container\">\n        <div className=\"nav\">\n          <Link className=\"nav-link\" to=\"/lockups\">Lockups</Link>\n          <Link className=\"nav-link\" to=\"/\">About</Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport { INearProps, NearContext } from '../../services/near';\nimport About from '../../pages/About';\nimport Lockups from '../../pages/Lockups';\nimport UserLockups from '../../pages/UserLockups';\nimport Header from '../Header';\n\nexport default function App() {\n  const { near }: { near: INearProps | null } = useContext(NearContext);\n  const [contractState, setContractState] = useState({});\n  const [token, setToken] = useState<string | null>(null);\n\n  useEffect(() => {\n    let active = true;\n\n    if (near) {\n      const load = async () => {\n        const lockups = await near.api.loadAllLockups();\n        if (!active) {\n          return;\n        }\n        setContractState({ lockups, name: 'name' });\n      };\n\n      load();\n    }\n\n    return () => { active = false; };\n  }, [near]);\n\n  useEffect(() => {\n    let active = true;\n\n    if (near) {\n      const load = async () => {\n        const response = await near.api.getTokenAccountId();\n        if (!active) {\n          return;\n        }\n        setToken(response);\n      };\n\n      load();\n    }\n\n    return () => { active = false; };\n  }, [near]);\n\n  if (Object.keys(contractState).length === 0) return null;\n\n  const { lockups }: any = contractState as any;\n\n  return (\n    <BrowserRouter>\n      <Header />\n      <Routes>\n        <Route path=\"/\" element={<About lockups={lockups} token_account_id={token} />} />\n        <Route path=\"/lockups\" element={<Lockups lockups={lockups} />} />\n        <Route path=\"/lockups/:userId\" element={<UserLockups lockups={lockups} />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n","import {\n  StrictMode, useEffect, useMemo, useState,\n} from 'react';\nimport App from './components/App';\nimport { NearContext, connectNear, INearProps } from './services/near';\n\nimport './index.css';\n\nexport default function NearApp() {\n  const [near, setNear] = useState<INearProps | null>(null);\n\n  useEffect(() => {\n    async function connect() {\n      const nearConn: INearProps = await connectNear();\n      setNear(nearConn);\n    }\n\n    connect();\n  }, []);\n\n  const value = useMemo(() => ({\n    near,\n    signIn: () => { near?.api?.signIn(); },\n    signOut: () => {\n      if (!near) return;\n\n      near.api.signOut();\n      setNear({\n        ...near,\n        signedIn: false,\n        signedAccountId: null,\n      });\n    },\n  }), [near]);\n\n  return (\n    <StrictMode>\n      <NearContext.Provider value={value}>\n        <App />\n      </NearContext.Provider>\n    </StrictMode>\n  );\n}\n","import { render } from 'react-dom';\n\nimport NearApp from './NearApp';\n\nrender(\n  <NearApp />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}