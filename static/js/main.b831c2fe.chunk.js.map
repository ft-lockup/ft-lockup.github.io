{"version":3,"sources":["config.ts","services/api.ts","services/NoLogInUsage.ts","services/near.ts","pages/About/index.tsx","utils.ts","components/table/row.tsx","services/CreateLockupService.ts","components/Header/CreateLockup.tsx","pages/Lockups/index.tsx","pages/UserLockups/index.tsx","components/Header/index.tsx","components/App/index.tsx","NearApp.tsx","index.tsx"],"names":["CONTRACT_NAME","process","config","env","REACT_APP_ENVIRONMENT","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","getConfig","NearApi","near","contract","walletConnection","tokenContract","this","WalletConnection","Contract","account","viewMethods","changeMethods","tokenContractId","console","log","get_token_account_id","get_lockups_paged","then","response","map","id","data","Object","assign","successUrl","window","location","href","requestSignIn","undefined","signOut","getAccountId","acc_id","a","balance","getAccountBalance","b","amount","total","parseFloat","utils","format","formatNearAmount","error","getFirstFullAccessKey","provider","accountId","query","request_type","account_id","finality","allAccessKeys","keys","length","allFullAccessKeys","filter","key","access_key","permission","importWhitelistedAccountsFullAccessKeys","keyStore","nearAPI","BrowserLocalStorageKeyStore","headers","api","getContract","get_deposit_whitelist","ownerAccountIds","connection","Promise","all","ownerAccountId","firstFullAccessKey","localStorage","setItem","JSON","stringify","allKeys","public_key","NoLogInUsage","NearContext","createContext","connectNear","signedAccountId","getTokenAccountId","setTokenContract","signedIn","About","lockups","token_account_id","className","Big","DP","convertTimestamp","time","Date","toLocaleDateString","convertAmount","value","Math","floor","Row","props","row","useState","open","setOpen","TableRow","sx","borderBottom","TableCell","IconButton","size","onClick","align","to","schedule","timestamp","total_balance","style","width","claimed_balance","unclaimed_balance","background","padding","colSpan","Collapse","in","timeout","unmountOnExit","Box","Table","TableHead","TableBody","x","component","scope","CreateLockupService","lockupContractId","userAccountId","senderAccountId","lockupTotalAmount","claimedBalance","msg","meta","receiver_id","ft_transfer_call","CreateLockup","useContext","handleClose","handleCreateLockup","e","preventDefault","getTokenContract","target","elements","sender","contractId","call","type","Dialog","onClose","onSubmit","DialogTitle","DialogContent","TextField","autoFocus","margin","label","fullWidth","variant","DialogActions","Button","Lockups","uniqueUsers","Array","from","Set","TableContainer","boxShadow","Paper","lockup","UserLockups","allLockups","userId","useParams","Header","App","contractState","setContractState","token","setToken","useEffect","active","load","loadAllLockups","name","path","element","NearApp","setNear","nearConn","connect","useMemo","signIn","Provider","render","document","getElementById"],"mappings":"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","file":"static/js/main.b831c2fe.chunk.js","sourcesContent":["export interface INearConfig {\n  networkId: string,\n  nodeUrl: string,\n  contractName: string,\n  walletUrl: string,\n  helperUrl: string,\n  explorerUrl: string,\n}\n\nconst CONTRACT_NAME = process.env.REACT_APP_CONTRACT_NAME || 'ft-lockup.demo000.ft-lockup.testnet';\n\n// TODO: move these data to envs\nfunction getConfig(): INearConfig {\n  const env = process.env.REACT_APP_ENVIRONMENT || 'development';\n  switch (env) {\n    case 'production':\n    case 'mainnet':\n      return {\n        networkId: 'mainnet',\n        nodeUrl: 'https://rpc.mainnet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.near.org',\n        helperUrl: 'https://helper.mainnet.near.org',\n        explorerUrl: 'https://explorer.mainnet.near.org',\n      };\n    case 'development':\n    case 'testnet':\n      return {\n        networkId: 'testnet',\n        nodeUrl: 'https://rpc.testnet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.testnet.near.org',\n        helperUrl: 'https://helper.testnet.near.org',\n        explorerUrl: 'https://explorer.testnet.near.org',\n      };\n    case 'betanet':\n      return {\n        networkId: 'betanet',\n        nodeUrl: 'https://rpc.betanet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.betanet.near.org',\n        helperUrl: 'https://helper.betanet.near.org',\n        explorerUrl: 'https://explorer.betanet.near.org',\n      };\n    case 'local':\n      return {\n        explorerUrl: '',\n        helperUrl: '',\n        networkId: 'local',\n        nodeUrl: 'http://localhost:3030',\n        walletUrl: 'http://localhost:4000/wallet',\n        contractName: CONTRACT_NAME,\n      };\n    case 'test':\n    case 'ci':\n      return {\n        explorerUrl: '',\n        helperUrl: '',\n        walletUrl: '',\n        networkId: 'shared-test',\n        nodeUrl: 'https://rpc.ci-testnet.near.org',\n        contractName: CONTRACT_NAME,\n      };\n    case 'ci-betanet':\n      return {\n        explorerUrl: '',\n        helperUrl: '',\n        walletUrl: '',\n        networkId: 'shared-test-staging',\n        nodeUrl: 'https://rpc.ci-betanet.near.org',\n        contractName: CONTRACT_NAME,\n      };\n    default:\n      throw Error(`Unconfigured environment '${env}'. Can be configured in src/config.js.`);\n  }\n}\n\nexport const config = getConfig();\n","import {\n  Near, Account, Contract, WalletConnection, utils,\n} from 'near-api-js';\nimport { config } from '../config';\n\nexport const fromNear = (amount: string): number => parseFloat(utils.format.formatNearAmount(amount || '0'));\nexport const toYoctoNear = (amount: number): string => utils.format.parseNearAmount(String(amount)) || '0';\n\ntype TViewMethods = {\n  'get_lockups_paged': any,\n  'get_token_account_id': any,\n  'get_deposit_whitelist': any,\n};\n\ntype TNearAmount = string;\ntype TNearTimestamp = number;\n\nexport type TCheckpoint = {\n  timestamp: TNearTimestamp,\n  balance: TNearAmount,\n};\n\nexport type TLockup = {\n  id: number,\n  account_id: string,\n  claimed_balance: TNearAmount,\n  schedule: TCheckpoint[],\n  timestamp: TNearTimestamp,\n  total_balance: TNearAmount,\n  unclaimed_balance: TNearAmount,\n};\n\ntype TTokenChangeMethods = {\n  'ft_transfer_call': any,\n};\n\nexport type TTokenContract = Contract & TTokenChangeMethods;\n\nexport type TLockupContract = Contract & TViewMethods;\n\nclass NearApi {\n  private near: Near;\n\n  private contract: Contract;\n\n  private walletConnection: WalletConnection;\n\n  private tokenContract: Contract | null;\n\n  constructor(near: Near) {\n    this.near = near;\n    this.walletConnection = new WalletConnection(near, config.contractName);\n    this.contract = new Contract(this.walletConnection.account(), config.contractName, {\n      viewMethods: ['get_lockups_paged', 'get_token_account_id', 'get_deposit_whitelist'],\n      changeMethods: [],\n    }) as TLockupContract;\n    this.tokenContract = null;\n  }\n\n  setTokenContract(tokenContractId: string) {\n    console.log('account to token = ', this.walletConnection.account());\n    this.tokenContract = new Contract(this.walletConnection.account(), tokenContractId, {\n      viewMethods: [],\n      changeMethods: ['ft_transfer_call'],\n    }) as TTokenContract;\n    console.log('tokenContract = ', this.tokenContract);\n  }\n\n  getTokenContract(): TTokenContract {\n    return this.tokenContract as TTokenContract;\n  }\n\n  getContract(): TLockupContract {\n    return this.contract as TLockupContract;\n  }\n\n  getTokenAccountId(): Promise<string> {\n    return (this.contract as TLockupContract).get_token_account_id();\n  }\n\n  loadAllLockups(): Promise<TLockup[]> {\n    return (this.contract as TLockupContract).get_lockups_paged().then(\n      (response: any) => response.map(([id, data]: [number, any]) => Object.assign(data, { id })),\n    );\n  }\n\n  signIn(): void {\n    const successUrl = window.location.href;\n    this.walletConnection.requestSignIn(config.contractName, undefined, successUrl);\n  }\n\n  signOut(): void {\n    this.walletConnection.signOut();\n  }\n\n  get_account_id(): string {\n    return this.walletConnection.getAccountId();\n  }\n\n  async account(acc_id: string): Promise<Account> {\n    return this.near.account(acc_id);\n  }\n\n  async get_balance(acc_id: string): Promise<number | null> {\n    const account = await this.account(acc_id);\n    let balance = null;\n    try {\n      const b = await account.getAccountBalance();\n      balance = fromNear(b.total);\n    } catch (e) {\n      console.error('Account not exist');\n    }\n    return balance;\n  }\n}\n\nexport default NearApi;\n","import * as nearAPI from 'near-api-js';\nimport { config } from '../config';\nimport NearApi from './api';\n\nconst getFirstFullAccessKey = async (provider: any, accountId: String): Promise<any> => {\n  const allAccessKeys = await provider.query({\n    request_type: 'view_access_key_list',\n    account_id: accountId,\n    finality: 'optimistic',\n  });\n\n  if (!allAccessKeys.keys?.length) {\n    return {};\n  }\n\n  const allFullAccessKeys = allAccessKeys.keys.filter((key: any) => (typeof key?.access_key?.permission === 'string') && key?.access_key?.permission === 'FullAccess');\n\n  if (!allFullAccessKeys?.length) {\n    return {};\n  }\n\n  return allFullAccessKeys[0];\n};\n\nconst importWhitelistedAccountsFullAccessKeys = async () => {\n  const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n  const near = await nearAPI.connect({ headers: {}, keyStore, ...config });\n  const api = new NearApi(near);\n  const ownerAccountIds = await api.getContract().get_deposit_whitelist() || [];\n  const { provider } = near.connection;\n\n  if (!ownerAccountIds?.length) {\n    throw Error('Zero lockup owners');\n  }\n\n  await Promise.all(\n    ownerAccountIds.map(async (ownerAccountId: string) => {\n      const firstFullAccessKey = await getFirstFullAccessKey(provider, ownerAccountId);\n      console.log('ffak = ', firstFullAccessKey);\n\n      localStorage.setItem(\n        `${config.contractName}_wallet_auth_key`,\n        JSON.stringify({ accountId: ownerAccountId, allKeys: [firstFullAccessKey.public_key] }),\n      );\n    }),\n  );\n\n  console.log('ownerAccountIds = ', ownerAccountIds);\n};\n\nconst NoLogInUsage = {\n  importWhitelistedAccountsFullAccessKeys,\n};\n\nexport default NoLogInUsage;\n","import * as nearAPI from 'near-api-js';\nimport { createContext } from 'react';\nimport { config, INearConfig } from '../config';\nimport NearApi from './api';\nimport NoLogInUsage from './NoLogInUsage';\n\nexport interface INearProps {\n  config: INearConfig;\n  api: NearApi;\n  signedIn: boolean;\n  signedAccountId: string | null;\n}\n\nexport const NearContext = createContext<any>(null);\n\nexport const connectNear = async (): Promise<INearProps> => {\n  await NoLogInUsage.importWhitelistedAccountsFullAccessKeys();\n\n  const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n  const near = await nearAPI.connect({ headers: {}, keyStore, ...config });\n  const api = new NearApi(near);\n  const walletConnection = new nearAPI.WalletConnection(near, config.contractName);\n  const signedAccountId = walletConnection.getAccountId();\n  const tokenContractId = await api.getTokenAccountId();\n  api.setTokenContract(tokenContractId);\n\n  return {\n    config,\n    api,\n    signedIn: !!signedAccountId,\n    signedAccountId,\n  };\n};\n","import { config } from '../../config';\n\nexport default function About(\n  { lockups, token_account_id }: { lockups: any[], token_account_id: string | null },\n) {\n  return (\n    <div className=\"container\">\n      <h1>About Page</h1>\n\n      <pre>\n        {`\n          This page should render all useful info about contract,\n          at least ft-lockup name, token name, contract ft balance,\n\n          ft-lockup account id: ${config.contractName}\n          token account id: ${token_account_id}\n\n          Total number of lockups: ${lockups.length}\n        `}\n      </pre>\n\n    </div>\n  );\n}\n","import Big from 'big.js';\n\nBig.DP = 40;\nexport const NEAR_ROUND_DIGITS = 2;\n\nexport const toNear = (value: any) => Big(value).times(10 ** 24).round(0, Big.roundDown);\nexport const nearTo = (value: any, digits = NEAR_ROUND_DIGITS, mode?: number | undefined) => {\n  // default is 20, need at least 38 for proper rounding of any near balance\n  Big.DP = 40;\n  return Big(value || '0').div(10 ** 24).toFixed(digits === 0 ? undefined : digits, mode);\n};\nexport const nearToCeil = (\n  value: any,\n  digits = NEAR_ROUND_DIGITS,\n) => nearTo(value, digits, Big.roundUp);\nexport const nearToFloor = (\n  value: any,\n  digits = NEAR_ROUND_DIGITS,\n) => nearTo(value, digits, Big.roundDown);\nexport const big = (value = '0') => Big(value);\nexport const tsNear2JS = (time: number) => Math.floor(time / 1000000);\nexport const convertTimestamp = (time: number) => new Date(time * 1000).toLocaleDateString('en-US');\nexport const convertAmount = (value: number) => Math.floor(value / 100000);\n","import { useState } from 'react';\nimport {\n  Box,\n  Collapse,\n  IconButton,\n  Table,\n  TableCell,\n  TableHead,\n  TableBody,\n  TableRow,\n} from '@mui/material';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport { Link } from 'react-router-dom';\nimport { convertAmount, convertTimestamp } from '../../utils';\n\nexport default function Row(props: { row: ReturnType<any> }) {\n  const { row } = props;\n  const [open, setOpen] = useState(false);\n\n  // @ts-ignore\n  return (\n    <>\n      <TableRow className={open ? 'expanded exp-row' : 'exp-row'} sx={{ '& > *': { borderBottom: 'unset' } }}>\n        <TableCell>\n          <IconButton\n            aria-label=\"expand row\"\n            size=\"small\"\n            onClick={() => setOpen(!open)}\n          >\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n        <TableCell align=\"left\">{row.id}</TableCell>\n        <TableCell align=\"left\"><Link to={`/lockups/${row.account_id}`}>{row.account_id}</Link></TableCell>\n        <TableCell align=\"right\">\n          {convertTimestamp(row.schedule[0].timestamp)}\n        </TableCell>\n        <TableCell align=\"right\">\n          {convertTimestamp(row.schedule[row.schedule.length - 1].timestamp)}\n        </TableCell>\n        <TableCell align=\"right\">\n          {convertAmount(row.total_balance)}\n          &nbsp;TOKEN\n        </TableCell>\n        <TableCell align=\"center\">\n          <div className=\"progress-bar\">\n            <div style={{ width: `${(row.claimed_balance / row.total_balance) * 100}%` }} className=\"claimed\">\n              <span>{convertAmount(row.claimed_balance)}</span>\n            </div>\n            <div style={{ width: `${(row.unclaimed_balance / row.total_balance) * 100}%` }} className=\"available\">\n              <span>\n                {(row.unclaimed_balance / row.total_balance) > 0.2\n                  && convertAmount(row.unclaimed_balance)}\n              </span>\n            </div>\n            <div style={{ width: `${((row.total_balance - row.claimed_balance - row.unclaimed_balance) / row.total_balance) * 100}%` }} className=\"vested\">\n              <span>\n                {((row.total_balance - row.claimed_balance - row.unclaimed_balance)\n                  / row.total_balance) > 0.2 && convertAmount(row.total_balance\n                  - row.claimed_balance - row.unclaimed_balance)}\n              </span>\n            </div>\n            <div style={{ width: `${(row.total_balance - row.total_balance) * 100}%` }} className=\"unvested\">&nbsp;</div>\n          </div>\n        </TableCell>\n      </TableRow>\n      <TableRow sx={{ background: '#F4FAFF' }}>\n        <TableCell style={{ padding: 0 }} colSpan={7}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box sx={{ padding: 2 }}>\n              <div className=\"inner-table_wrapper\">\n                <h5>Lockup schedule</h5>\n                <Table className=\"inner-table\" size=\"small\" aria-label=\"purchases\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>DATE</TableCell>\n                      <TableCell>AMOUNT</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {row.schedule.map((x: any) => (\n                      <TableRow key={x.timestamp}>\n                        <TableCell component=\"th\" scope=\"row\">\n                          {convertTimestamp(x.timestamp)}\n                        </TableCell>\n                        <TableCell>\n                          {convertAmount(x.balance)}\n                          &nbsp;TOKEN\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n","import {\n  TTokenContract, TCheckpoint,\n} from './api';\n\nconst MAX_GAS = 300_000_000_000_000;\nconst ONE_YOKTO = 1;\n\ntype TLockupMessage = {\n  account_id: string,\n  schedule: Array<TCheckpoint>,\n  claimed_balance: string,\n};\n\nclass CreateLockupService {\n  private lockupContractId: string;\n\n  private tokenContract: TTokenContract;\n\n  private schedule: Array<TCheckpoint>;\n\n  private lockupTotalAmount: string;\n\n  private userAccountId: string;\n\n  private senderAccountId: string;\n\n  private claimedBalance: string;\n\n  constructor(\n    tokenContract: TTokenContract,\n    schedule: Array<TCheckpoint>,\n    lockupContractId: string,\n    userAccountId: string,\n    senderAccountId: string,\n    lockupTotalAmount: string,\n    claimedBalance: string,\n  ) {\n    this.tokenContract = tokenContract;\n    this.schedule = schedule;\n    this.lockupContractId = lockupContractId;\n    this.userAccountId = userAccountId;\n    this.senderAccountId = senderAccountId;\n    this.lockupTotalAmount = lockupTotalAmount;\n    this.claimedBalance = claimedBalance;\n  }\n\n  async call() {\n    const msg: TLockupMessage = {\n      account_id: this.userAccountId,\n      schedule: this.schedule,\n      claimed_balance: this.claimedBalance,\n    };\n\n    const meta = {\n      receiver_id: this.lockupContractId,\n      amount: this.lockupTotalAmount,\n      msg: JSON.stringify(msg),\n    };\n\n    await this.tokenContract.ft_transfer_call(meta, MAX_GAS, ONE_YOKTO);\n  }\n}\n\nexport default CreateLockupService;\n","import { useContext, useState } from 'react';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n} from '@mui/material';\nimport { INearProps, NearContext } from '../../services/near';\nimport CreateLockupService from '../../services/CreateLockupService';\n\nexport default function CreateLockup() {\n  const {\n    near,\n  }: {\n    near: INearProps | null,\n  } = useContext(NearContext);\n\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const handleCreateLockup = async (e: any) => {\n    e.preventDefault();\n\n    const tokenContract = near?.api?.getTokenContract();\n\n    if (!tokenContract) {\n      throw new Error('token contract is not initialized!');\n    }\n\n    const { sender, account, amount } = e.target.elements;\n\n    console.log(sender.value, account.value, amount.value);\n\n    const lockupContractId = near?.api.getContract().contractId || '';\n    const claimedBalance = '0';\n    const userAccountId = account.value || 'alice.demo000.ft-lockup.testnet';\n    const senderAccountId = sender.value || 'owner.demo000.ft-lockup.testnet';\n    const lockupTotalAmount = amount.value || '9000000';\n    const schedule = [\n      { timestamp: 1400000000, balance: '0000000' },\n      { timestamp: 1500000000, balance: '3000000' },\n      { timestamp: 1600000000, balance: '6000000' },\n      { timestamp: 1700000000, balance: lockupTotalAmount },\n    ];\n\n    const createLockup = new CreateLockupService(\n      tokenContract,\n      schedule,\n      lockupContractId,\n      userAccountId,\n      senderAccountId,\n      lockupTotalAmount,\n      claimedBalance,\n    );\n\n    createLockup.call();\n  };\n\n  return (\n    <div>\n      <button className=\"button\" type=\"button\" onClick={handleOpen}>Create Lockup</button>\n      <Dialog open={open} onClose={handleClose}>\n        <form className=\"form_offer\" onSubmit={handleCreateLockup}>\n          <DialogTitle>Create Lockup</DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"sender\"\n              label=\"Sender\"\n              type=\"text\"\n              fullWidth\n              variant=\"standard\"\n            />\n            <TextField\n              margin=\"dense\"\n              id=\"account\"\n              label=\"Account Id\"\n              type=\"text\"\n              fullWidth\n              variant=\"standard\"\n            />\n            <TextField\n              margin=\"dense\"\n              id=\"amount\"\n              label=\"Amount\"\n              type=\"text\"\n              fullWidth\n              variant=\"standard\"\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose}>Cancel</Button>\n            <Button type=\"submit\">Create</Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n    </div>\n  );\n}\n","import {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@mui/material';\nimport Row from '../../components/table/row';\nimport CreateLockup from '../../components/Header/CreateLockup';\n\nexport default function Lockups({ lockups }: { lockups: any[] }) {\n  const uniqueUsers = Array.from(new Set(lockups.map((x) => x.account_id)));\n\n  console.log('unique users', uniqueUsers);\n\n  return (\n    <div className=\"container\">\n\n      <TableContainer sx={{ boxShadow: 'unset' }} component={Paper}>\n        <Table className=\"main-table\" aria-label=\"collapsible table\">\n          <TableHead className=\"table-head\">\n            <TableRow>\n              <TableCell />\n              <TableCell align=\"left\">ID</TableCell>\n              <TableCell align=\"left\">Account ID</TableCell>\n              <TableCell align=\"right\">Start&nbsp;date</TableCell>\n              <TableCell align=\"right\">End&nbsp;date</TableCell>\n              <TableCell align=\"right\">Total&nbsp;amount</TableCell>\n              <TableCell align=\"center\">Progress</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {lockups.map((lockup) => (\n              <Row key={lockup.id} row={lockup} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <CreateLockup />\n\n    </div>\n  );\n}\n","import { useParams } from 'react-router-dom';\nimport {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@mui/material';\nimport Row from '../../components/table/row';\n\nexport default function UserLockups({ lockups: allLockups }: { lockups: any[] }) {\n  const { userId } = useParams();\n\n  const lockups = allLockups.filter((x) => x.account_id === userId);\n\n  console.log('user lockups', userId, lockups);\n\n  return (\n    <div className=\"container\">\n\n      <TableContainer sx={{ boxShadow: 'unset' }} component={Paper}>\n        <Table className=\"main-table\" aria-label=\"collapsible table\">\n          <TableHead className=\"table-head\">\n            <TableRow>\n              <TableCell />\n              <TableCell align=\"left\">ID</TableCell>\n              <TableCell align=\"left\">Account ID</TableCell>\n              <TableCell align=\"right\">Start&nbsp;date</TableCell>\n              <TableCell align=\"right\">End&nbsp;date</TableCell>\n              <TableCell align=\"right\">Total&nbsp;amount</TableCell>\n              <TableCell align=\"center\">Progress</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {lockups.map((lockup) => (\n              <Row key={lockup.id} row={lockup} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n    </div>\n  );\n}\n","import { Link } from 'react-router-dom';\n\nexport default function Header() {\n  return (\n    <div className=\"header\">\n      <div className=\"container\">\n        <div className=\"nav\">\n          <Link className=\"nav-link\" to=\"/lockups\">Lockups</Link>\n          <Link className=\"nav-link\" to=\"/about\">About</Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport { Routes, Route, HashRouter } from 'react-router-dom';\nimport { INearProps, NearContext } from '../../services/near';\nimport About from '../../pages/About';\nimport Lockups from '../../pages/Lockups';\nimport UserLockups from '../../pages/UserLockups';\nimport Header from '../Header';\n\nexport default function App() {\n  const { near }: { near: INearProps | null } = useContext(NearContext);\n  const [contractState, setContractState] = useState({});\n  const [token, setToken] = useState<string | null>(null);\n\n  useEffect(() => {\n    let active = true;\n\n    if (near) {\n      const load = async () => {\n        const lockups = await near.api.loadAllLockups();\n        if (!active) {\n          return;\n        }\n        setContractState({ lockups, name: 'name' });\n      };\n\n      load();\n    }\n\n    return () => { active = false; };\n  }, [near]);\n\n  useEffect(() => {\n    if (near) {\n      setToken(near.api.getTokenContract().contractId);\n    }\n\n    return () => { };\n  }, [near]);\n\n  if (Object.keys(contractState).length === 0) return null;\n\n  const { lockups }: any = contractState as any;\n\n  return (\n    <HashRouter>\n      <Header />\n      <Routes>\n        <Route path=\"/about\" element={<About lockups={lockups} token_account_id={token} />} />\n        <Route path=\"/lockups\" element={<Lockups lockups={lockups} />} />\n        <Route path=\"/lockups/:userId\" element={<UserLockups lockups={lockups} />} />\n      </Routes>\n    </HashRouter>\n  );\n}\n","import {\n  StrictMode, useEffect, useMemo, useState,\n} from 'react';\nimport App from './components/App';\nimport { NearContext, connectNear, INearProps } from './services/near';\n\nimport './index.css';\n\nexport default function NearApp() {\n  const [near, setNear] = useState<INearProps | null>(null);\n\n  useEffect(() => {\n    async function connect() {\n      const nearConn: INearProps = await connectNear();\n      setNear(nearConn);\n    }\n\n    connect();\n  }, []);\n\n  const value = useMemo(() => ({\n    near,\n    signIn: () => { near?.api?.signIn(); },\n    signOut: () => {\n      if (!near) return;\n\n      near.api.signOut();\n      setNear({\n        ...near,\n        signedIn: false,\n        signedAccountId: null,\n      });\n    },\n  }), [near]);\n\n  return (\n    <StrictMode>\n      <NearContext.Provider value={value}>\n        <App />\n      </NearContext.Provider>\n    </StrictMode>\n  );\n}\n","import { render } from 'react-dom';\n\nimport NearApp from './NearApp';\n\nrender(\n  <NearApp />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}