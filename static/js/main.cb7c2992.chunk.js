(this["webpackJsonpft-lockup-contract-frontend"]=this["webpackJsonpft-lockup-contract-frontend"]||[]).push([[0],{227:function(e,t){},237:function(e,t){},285:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(50),r=n(45),c=n(15),o=n(17),s=n(8),i=n.n(s),l=n(1),u=n(49),d=n(16),b=n(23),j=n(18),p=n.n(j),h=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CONTRACT_NAME:"ft-lockup.demo006.ft-lockup.testnet"}).FACTORY_CONTRACT_NAME||"factory1.ft-lockup.testnet",f=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CONTRACT_NAME:"ft-lockup.demo006.ft-lockup.testnet"}).FACTORY_CONTRACT_HASH||"9p86zuCX9K9XX56m9VwkAGdnL4PS1rj763JPuzmap4Rf",m=function(){var e=window.location.hash.split("/")[1];return"new_lockup_contract"===e?h:e}();console.log(m);var x=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CONTRACT_NAME:"ft-lockup.demo006.ft-lockup.testnet"}).REACT_APP_ENVIRONMENT||"development";switch(e){case"production":case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:m,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org",factoryContractName:h,factoryContractHash:f};case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:m,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org",factoryContractName:h,factoryContractHash:f};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:m,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org",explorerUrl:"https://explorer.betanet.near.org",factoryContractName:h,factoryContractHash:f};case"local":return{explorerUrl:"",helperUrl:"",networkId:"local",nodeUrl:"http://localhost:3030",walletUrl:"http://localhost:4000/wallet",contractName:m,factoryContractName:h,factoryContractHash:f};case"test":case"ci":return{explorerUrl:"",helperUrl:"",walletUrl:"",networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:m,factoryContractName:h,factoryContractHash:f};case"ci-betanet":return{explorerUrl:"",helperUrl:"",walletUrl:"",networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:m,factoryContractName:h,factoryContractHash:f};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}(),O=3e14;p.a.DP=40,p.a.PE=40;var v=function(e){return new Date(1e3*e).toLocaleDateString("en-US")},g=function(e,t){return p()(e||"0").div(Math.pow(10,t)).toFixed(2)},k=function(e,t){return new Date(new Date(e).setFullYear(e.getFullYear()+t)).getTime()/1e3},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dump",t=Object.keys(localStorage).map((function(e){return[e,localStorage.getItem(e)]}));localStorage.setItem(e,JSON.stringify(t))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dump",t=localStorage.getItem(e);if(t){var n=JSON.parse(t);localStorage.clear(),n.forEach((function(e){return localStorage.setItem(e[0],e[1])}))}},y=function(e){return"".concat(x.explorerUrl,"/transactions/").concat(e)},C=n(30),N=n(73),S=n(74),I=["get_draft_group","get_draft_groups_paged","get_drafts","get_lockups_paged","get_token_account_id","get_deposit_whitelist"],A=["create_draft","create_drafts","create_draft_group","convert_draft","convert_drafts","terminate"],E=function(){function e(t){Object(N.a)(this,e),this.near=void 0,this.contract=void 0,this.walletConnection=void 0,this.near=t,this.walletConnection=new C.WalletConnection(t,t.config.contractName),this.contract=new C.Contract(this.walletConnection.account(),this.near.config.contractName,{viewMethods:I,changeMethods:A})}return Object(S.a)(e,[{key:"getDraftGroupsAll",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.get_draft_groups_paged();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object.assign(a,{id:n})})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDraftGroup",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.get_draft_group({index:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDrafts",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.get_drafts({indices:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createDraftGroup",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.create_draft_group();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createDraft",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.create_draft({draft:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createDrafts",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.create_drafts({args:{drafts:t},gas:"200000000000000"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"convertDraft",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.convert_draft({draft_id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"convertDrafts",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.convert_drafts({args:{draft_ids:t},gas:"200000000000000"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"terminate",value:function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.terminate({args:{lockup_index:t,termination_timestamp:n},gas:O,amount:1});case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),Error("Cannot terminate lockup");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNear",value:function(){return this.near}},{key:"getWalletConnection",value:function(){return this.walletConnection}},{key:"getContract",value:function(){return this.contract}},{key:"getTokenAccountId",value:function(){return this.contract.get_token_account_id()}},{key:"getDepositWhitelist",value:function(){return this.contract.get_deposit_whitelist()}},{key:"loadAllLockups",value:function(){return this.contract.get_lockups_paged().then((function(e){return e.map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object.assign(a,{id:n})}))}))}},{key:"signIn",value:function(){var e="".concat(window.location.href);this.walletConnection.requestSignIn(this.near.config.contractName,void 0,e)}},{key:"signOut",value:function(){this.walletConnection.signOut(),this.near.config.keyStore.clear()}},{key:"get_account_id",value:function(){return this.walletConnection.getAccountId()}},{key:"account",value:function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.near.account(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_balance",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.account(t);case 2:return n=e.sent,a=null,e.prev=4,e.next=7,n.getAccountBalance();case 7:r=e.sent,c=r.total,a=parseFloat(C.utils.format.formatNearAmount(c||"0")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Account not exist");case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}var c}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),T=E,D=n(94),U=n(75),F=n(76),P=n(22),W=n.n(P),L=function(){var e=Object(D.a)(W.a.mark((function e(t,n){var a,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query({request_type:"view_access_key_list",account_id:n,finality:"optimistic"});case 2:if(r=e.sent,null!==(a=r.keys)&&void 0!==a&&a.length){e.next=5;break}throw Error("None of access keys was founded");case 5:if(null!==(c=r.keys.filter((function(e){var t,n;return"string"===typeof(null===e||void 0===e||null===(t=e.access_key)||void 0===t?void 0:t.permission)&&"FullAccess"===(null===e||void 0===e||null===(n=e.access_key)||void 0===n?void 0:n.permission)})))&&void 0!==c&&c.length){e.next=8;break}throw Error("None of full access keys was founded");case 8:return e.abrupt("return",c[0]);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=L,M=[""],H=["claim"],G=function(){function e(t){Object(U.a)(this,e),this.near=void 0,this.near=t}return Object(F.a)(e,[{key:"claim",value:function(){var e=Object(D.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(),e.next=3,this.setWalletAndContractWithAuth(t);case 3:return e.next=5,this.buildContract().claim({},O);case 5:this.near.config.keyStore.clean();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setWalletAndContractWithAuth",value:function(){var e=Object(D.a)(W.a.mark((function e(t){var n,a,r=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:this.near.config.contractName,e.next=3,R(this.near.connection.provider,t);case 3:a=e.sent,localStorage.setItem("".concat(n,"_wallet_auth_key"),JSON.stringify({accountId:t,allKeys:[a.public_key]}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildContract",value:function(){return new C.Contract(new C.WalletConnection(this.near,this.near.config.contractName).account(),this.near.config.contractName,{viewMethods:M,changeMethods:H})}}]),e}(),J=G,z=n(186),K=["msg"],V=3e14,Y=["ft_metadata"],B=["ft_transfer_call"],q=function(){function e(t,n){Object(N.a)(this,e),this.contract=void 0,this.contract=new C.Contract(t.account(),n,{viewMethods:Y,changeMethods:B})}return Object(S.a)(e,[{key:"getContract",value:function(){return this.contract}},{key:"fundDraftGroup",value:function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.ftTransferCall({receiver_id:t,amount:a,msg:{draft_group_id:n}}),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"ftTransferCall",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e.msg,c=Object(z.a)(e,K);this.contract.ft_transfer_call(Object(r.a)({msg:JSON.stringify(a)},c),t,n)}},{key:"ftMetadata",value:function(){return this.contract.ft_metadata({})}}]),e}(),$=q,X=new p.a(4).mul(new p.a(10).pow(24)).toString(),Z=["create"],Q=function(){function e(t,n,a){Object(N.a)(this,e),this.contract=void 0,this.hash=void 0,this.contract=new C.Contract(t.account(),n,{viewMethods:[],changeMethods:Z}),this.hash=a}return Object(S.a)(e,[{key:"getContract",value:function(){return this.contract}},{key:"create",value:function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={token_account_id:n,deposit_whitelist:a},o=btoa(JSON.stringify(c)),e.next=4,this.contract.create({args:{name:t,hash:this.hash,access_keys:[],method_name:"new",args:o},callbackUrl:r,gas:3e14,amount:X});case 4:return s=e.sent,console.log(s),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()}]),e}(),ee=Q,te=Object(l.createContext)(null),ne=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,s,l,u,d,b,j,p,h,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("dump")&&_(),t=new C.keyStores.BrowserLocalStorageKeyStore,e.next=4,C.connect(Object(r.a)({headers:{},keyStore:t},x));case 4:return n=e.sent,a=new T(n),c=new C.keyStores.InMemoryKeyStore,e.next=9,C.connect(Object(r.a)({headers:{},keyStore:c},x));case 9:return o=e.sent,s=new J(o),l=new C.WalletConnection(n,x.contractName),u=l.getAccountId(),d="",b=!1,e.prev=15,e.next=18,a.getTokenAccountId();case 18:return d=e.sent,e.next=21,a.getDepositWhitelist();case 21:j=e.sent,b=j.includes(u),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),console.log(e.t0);case 28:return p=new $(l,d),h=new ee(l,x.factoryContractName,x.factoryContractHash),f=new C.providers.JsonRpcProvider(x.nodeUrl),e.abrupt("return",{config:x,api:a,tokenContractId:d,noLoginApi:s,signedIn:!!u,isAdmin:b,signedAccountId:u,tokenApi:p,factoryApi:h,rpcProvider:f});case 32:case"end":return e.stop()}}),e,null,[[15,25]])})));return function(){return e.apply(this,arguments)}}(),ae=n(0);function re(e){var t=e.lockups,n=e.token_account_id;return Object(ae.jsxs)("div",{className:"container",children:[Object(ae.jsx)("h1",{children:"About Page"}),Object(ae.jsx)("pre",{children:"\n          This page should render all useful info about contract,\n          at least ft-lockup name, token name, contract ft balance,\n\n          ft-lockup account id: ".concat(x.contractName,"\n          token account id: ").concat(n,"\n\n          Total number of lockups: ").concat(t.length,"\n        ")})]})}var ce=n(337),oe=n(349),se=n(358),ie=n(359),le=n(360),ue=n(361),de=n(362),be=n(363),je=n(357),pe=n(117),he=n.n(pe),fe=n(118),me=n.n(fe);function xe(e){var t=e.url,n=e.size;return Object(ae.jsx)("img",{style:{height:n,width:n,verticalAlign:"middle"},src:t,alt:"Token Icon"})}function Oe(e){var t=e.schedule,n=e.title,a=e.token;return Object(ae.jsxs)("div",{className:"inner-table_wrapper",children:[Object(ae.jsx)("h5",{children:n}),Object(ae.jsxs)(se.a,{className:"inner-table",size:"small","aria-label":"purchases",children:[Object(ae.jsx)(ie.a,{children:Object(ae.jsxs)(le.a,{children:[Object(ae.jsx)(ue.a,{children:"DATE"}),Object(ae.jsx)(ue.a,{align:"right",children:"AMOUNT"})]})}),Object(ae.jsx)(de.a,{children:t.map((function(e){return Object(ae.jsxs)(le.a,{children:[Object(ae.jsx)(ue.a,{component:"th",scope:"row",children:v(e.timestamp)}),Object(ae.jsxs)(ue.a,{align:"right",children:[g(e.balance,a.decimals),"\xa0",a.symbol,"\xa0",Object(ae.jsx)(xe,{url:a.icon||"",size:32})]})]},e.timestamp)}))})]})]})}function ve(e){var t,n,a=Object(d.f)(),r=Object(l.useState)(!1),c=Object(o.a)(r,2),s=c[0],i=c[1],u=e.row,j=e.token,p=Object(l.useContext)(te).near;if(!p)return null;var h=p.signedIn,f=null===u||void 0===u||null===(t=u.termination_config)||void 0===t||null===(n=t.vesting_schedule)||void 0===n?void 0:n.Schedule,m=a.pathname.split("/")[1];return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)(le.a,{className:s?"expanded exp-row":"exp-row",sx:{"& > *":{borderBottom:"unset"}},children:[Object(ae.jsx)(ue.a,{children:Object(ae.jsx)(be.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!s)},children:s?Object(ae.jsx)(he.a,{}):Object(ae.jsx)(me.a,{})})}),Object(ae.jsx)(ue.a,{align:"left",children:u.id}),Object(ae.jsx)(ue.a,{align:"left",children:Object(ae.jsx)(b.b,{to:h?"".concat(m,"/admin/lockups/").concat(u.account_id):"".concat(m,"/lockups/").concat(u.account_id),children:u.account_id})}),Object(ae.jsx)(ue.a,{align:"right",children:v(u.schedule[0].timestamp)}),Object(ae.jsx)(ue.a,{align:"right",children:v(u.schedule[u.schedule.length-1].timestamp)}),Object(ae.jsxs)(ue.a,{align:"right",children:[g(u.total_balance,j.decimals),"\xa0",j.symbol,"\xa0",Object(ae.jsx)(xe,{url:j.icon||"",size:32})]}),Object(ae.jsx)(ue.a,{align:"center",children:Object(ae.jsxs)("div",{className:"progress-bar",children:[Object(ae.jsx)("div",{style:{width:"".concat(u.claimed_balance/u.total_balance*100,"%")},className:"claimed",children:Object(ae.jsx)("span",{children:g(u.claimed_balance,j.decimals)})}),Object(ae.jsx)("div",{style:{width:"".concat(u.unclaimed_balance/u.total_balance*100,"%")},className:"available",children:Object(ae.jsx)("span",{children:g(u.unclaimed_balance,j.decimals)})}),Object(ae.jsx)("div",{style:{width:"".concat((u.total_balance-u.claimed_balance-u.unclaimed_balance)/u.total_balance*100,"%")},className:"vested",children:Object(ae.jsx)("span",{children:(u.total_balance-u.claimed_balance-u.unclaimed_balance)/u.total_balance>.2&&g(u.total_balance-u.claimed_balance-u.unclaimed_balance,j.decimals)})}),Object(ae.jsx)("div",{style:{width:"".concat(100*(u.total_balance-u.total_balance),"%")},className:"unvested",children:"\xa0"})]})})]}),Object(ae.jsx)(le.a,{sx:{background:"#F4FAFF"},children:Object(ae.jsx)(ue.a,{style:{padding:0},colSpan:8,children:Object(ae.jsx)(je.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(ae.jsx)("div",{className:"lockup-row",children:Object(ae.jsxs)("div",{style:{display:"flex",gap:20},children:[Object(ae.jsx)(Oe,{schedule:u.schedule,title:"Lockup schedule",token:j}),f&&Object(ae.jsx)(Oe,{schedule:f,title:"Vesting schedule",token:j})]})})})})})]})}function ge(e){var t=e.lockups,n=e.token;return Object(ae.jsxs)(se.a,{className:"main-table","aria-label":"collapsible table",children:[Object(ae.jsx)(ie.a,{className:"table-head",children:Object(ae.jsxs)(le.a,{children:[Object(ae.jsx)(ue.a,{}),Object(ae.jsx)(ue.a,{align:"left",children:"ID"}),Object(ae.jsx)(ue.a,{align:"left",children:"Account ID"}),Object(ae.jsx)(ue.a,{align:"right",children:"Start\xa0date"}),Object(ae.jsx)(ue.a,{align:"right",children:"End\xa0date"}),Object(ae.jsx)(ue.a,{align:"right",children:"Total\xa0amount"}),Object(ae.jsx)(ue.a,{align:"center",children:"Progress"})]})}),Object(ae.jsx)(de.a,{children:t.map((function(e){return Object(ae.jsx)(ve,{row:e,token:n},e.id)}))})]})}var ke=n(185),we=n(178),_e=n(29),ye=n.n(_e);ye.a.prototype.toJSON=function(){return this.toString()};var Ce=function(e){var t=e.trim().split("\n");if(t.length<=1)return[];var n=t.map((function(e){return e.split("\t").map((function(e){return e.trim()}))})),a=Object(we.a)(n),r=a[0];return a.slice(1).map((function(e){return Object.fromEntries(r.map((function(t,n){return[t,e[n]||""]})))}))},Ne=function(e){var t=Object(ke.a)(/^P(((((\d+)Y)?((\d+)M)?((\d+)D)?)(T((\d+)H)?((\d+)M)?((\d+)S)?)?)|((\d+)W)?)$/,{year:5,month:7,day:9,hour:12,minute:14,second:16,week:18}),n=e.match(t);if(!n)throw new Error("invalid duration");var a=n&&n.groups||{};return{year:parseInt(a.year,10)||0,month:parseInt(a.month,10)||0,week:parseInt(a.week,10)||0,day:parseInt(a.day,10)||0,hour:parseInt(a.hour,10)||0,minute:parseInt(a.minute,10)||0,second:parseInt(a.second,10)||0}},Se=function(e){var t=e.split("|");if(4!==t.length)throw new Error("invalid human friendly schedule, expected 4 parts");var n=Object(o.a)(t,4),a=n[0],r=n[1],c=n[2],s=n[3],i=function(e){if(!e.match(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\dZ/))throw new Error("invalid timestamp");var t=new Date(e);if(Number.isNaN(t.getTime()))throw new Error("invalid timestamp");return t}(a),l=Ne(r),u=function(e){var t=e.split(":");if(2!==t.length)throw new Error("expected 2 parts");var n=Object(o.a)(t,2),a=n[0],r=n[1],c=Ne(a),s=parseInt(r,10);if(s<0||s>100)throw new Error("invalid cliff percentage");return{duration:c,percentage:s}}(c),d=Ne(s);return{timestampStart:i,durationTotal:l,durationCliff:u.duration,percentageCliff:u.percentage,releaseEvery:d}},Ie=function(e){return{account_id:function(e){var t=!0;if(e.length<2&&(t=!1),e.length>64&&(t=!1),e.match(/^[a-z0-9._-]+$/)||(t=!1),t)return e;throw new Error("invalid near account id")}(e.account_id),amount:function(e){if(e.match(/^[0-9]+(\.[0-9]+)?$/))return e;throw new Error("invalid token amount")}(e.amount),lockup_schedule:Se(e.lockup_schedule),vesting_schedule:""===e.vesting_schedule?null:Se(e.vesting_schedule)}},Ae=function(e,t,n){var a=Math.floor(n);return new Date(Date.UTC(e.getUTCFullYear()+t.year*a,e.getUTCMonth()+t.month*a,e.getUTCDate()+(7*t.week+t.day)*a,e.getUTCHours()+t.hour*a,e.getUTCMinutes()+t.minute*a,e.getUTCSeconds()+t.second*a))},Ee=function(e){return Math.floor(new Date(e).getTime()/1e3)},Te=function(e,t,n){if(!(n>=0&&n===Math.floor(n)))throw new Error("invalid token decimals");var a=new p.a(10).pow(n),r=e.timestampStart,c=Ae(r,e.durationCliff,1),o=Ae(c,Ne("PT1S"),-1),s=Ae(r,e.durationTotal,1),i=new ye.a(new p.a(t).mul(a).round(0,p.a.roundDown).toString()),l=new ye.a(i).muln(e.percentageCliff).divn(100).clone();if(l.gt(i))throw new Error("error: cliffAmount > totalAmount");if(c>s)throw new Error("error: timestampCliff > timestampFinish");if(c<r)throw new Error("error: timestampPreCliff < timestampStart");var u=e.releaseEvery,d=c,b=Ae(c,u,1);if(Ee(b)<=Ee(d))throw new Error("invalid releaseEvery, zero duration");if(Ee(b)-Ee(d)===1){var j={timestamp:Ee(r),balance:new ye.a("0").toString()},h={timestamp:Ee(o),balance:new ye.a("0").toString()},f={timestamp:Ee(c),balance:l.toString()},m={timestamp:Ee(s),balance:i.toString()},x=[];return x.unshift(m),f.timestamp<m.timestamp&&x.unshift(f),x.unshift(h),j.timestamp<h.timestamp&&x.unshift(j),x}for(var O=[],v=c;;){if(v>=s){v=s,O.push(v);break}if(O.push(v),v=Ae(v,u,1),O.length>=100)throw new Error("too many checkpoints for schedule")}var g=i.sub(l).divn(O.length-1),k=O.flatMap((function(e,t){if(1===O.length)return[{timestamp:Ee(s),balance:i.toString()}];if(0===t)return[{timestamp:Ee(e),balance:l.toString()}];var n=t===O.length-1?i:l.add(g.muln(t)).toString();return[{timestamp:Ee(e)-1,balance:l.add(g.muln(t-1)).toString()},{timestamp:Ee(e),balance:n.toString()}]})),w=[],_={timestamp:Ee(r),balance:new ye.a("0").toString()},y={timestamp:Ee(o),balance:new ye.a("0").toString()};return w.unshift(y),_.timestamp<y.timestamp&&w.unshift(_),w.concat(k)},De=function(e,t,n){return Ce(e).map((function(e){return function(e,t,n){var a,r,c=Ie(e);return c.vesting_schedule?(r=Te(c.vesting_schedule,c.amount,t),a={payer_id:n,vesting_schedule:{Schedule:r}}):a=null,{account_id:c.account_id,schedule:Te(c.lockup_schedule,c.amount,t),claimed_balance:new ye.a(0).toString(),termination_config:a}}(e,t,n)}))};var Ue=function(e){var t=e.token,n=Object(d.f)(),a=Object(l.useContext)(te).near,r=Object(l.useState)([]),s=Object(o.a)(r,2),b=s[0],j=s[1],p=Object(l.useState)(!1),h=Object(o.a)(p,2),f=h[0],m=h[1],x=Object(d.g)(),O=Object(u.b)().enqueueSnackbar,v=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),O("".concat(t," failed with error: '").concat(e.t0,"'")),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(i.a.mark((function e(){var t,r,o,s,l,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("near is null");case 2:return m(!0),e.next=5,v("Create draft group",Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.api.createDraftGroup();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))));case 5:t=e.sent,r="Created draft group id: ".concat(t),O(r),o=100,s=i.a.mark((function e(n){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.slice(n,n+o),s=r.map((function(e){return{draft_group_id:t,lockup:e}})),e.next=4,v("Create drafts",Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.api.createDrafts(s);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})),l=0;case 11:if(!(l<b.length)){e.next=16;break}return e.delegateYield(s(l),"t0",13);case 13:l+=o,e.next=11;break;case 16:O("Created ".concat(b.length," draft(s).")),u=n.pathname.split("/")[1],d="/".concat(u,"/admin/draft_groups/").concat(t),x(d);case 20:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),m(!1);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}();return Object(ae.jsxs)("div",{className:"container",children:[Object(ae.jsx)("h3",{children:"Import Draft Group"}),Object(ae.jsxs)("div",{children:["Copy lockups from a spreadsheet editor and paste into the area below. See"," ",Object(ae.jsx)("a",{href:"".concat("","/lockup_import_example.xlsx"),children:"example and format specifications"}),"."]}),Object(ae.jsx)("div",{children:Object(ae.jsx)(ce.a,{style:{width:"100%",marginTop:20},id:"spreadsheet-input",placeholder:"Excel input",maxRows:5,onChange:function(e){try{if(null===a||void 0===a||!a.signedAccountId)throw new Error("expected present signedAccountId");console.log(t);var n=e.target.value,r=De(n,t.decimals,a.signedAccountId);j(r)}catch(c){c instanceof Error&&console.log(c)}}})}),Object(ae.jsx)(ge,{lockups:b,token:t}),Object(ae.jsx)("br",{}),Object(ae.jsx)("div",{children:Object(ae.jsx)(oe.a,{disabled:!(b.length>=1&&!f),loading:f,onClick:g,color:"success",type:"button",variant:"contained",children:"Import"})})]})},Fe=n(351);function Pe(e){var t=e.token,n=e.amount;return Object(ae.jsxs)("div",{className:"balance-info-block",style:{display:"flex"},children:[Object(ae.jsxs)("div",{style:{flex:1,alignContent:"center"},className:"amount-info",children:[Object(ae.jsx)("div",{className:"token-symbol",children:t.symbol}),Object(ae.jsx)("div",{className:"token-amount",children:n})]}),Object(ae.jsx)("div",{style:{flex:1},children:Object(ae.jsx)(xe,{url:t.icon||"",size:64})})]})}var We=function(e){var t=Object(l.useContext)(te).near,n=e.draftGroupIndex,a=e.amount;if(!t)throw Error("Cannot access lockup api");if(void 0===n)throw Error("Cannot fund draft group without index");if(void 0===a)throw Error("Cannot fund draft group without specified amount");return Object(ae.jsx)("button",{className:"button fullWidth",type:"button",onClick:function(){t.tokenApi.fundDraftGroup(t.api.getContract().contractId,n,a)},children:"Fund"})};function Le(e){var t=e.token,n=Object(d.f)(),a=Object(u.b)().enqueueSnackbar,r=parseInt(Object(d.h)().draftGroupId||"",10),s=Object(l.useContext)(te).near,b=Object(l.useState)(null),j=Object(o.a)(b,2),p=j[0],h=j[1],f=Object(l.useState)([]),m=Object(o.a)(f,2),x=m[0],O=m[1],v=Object(l.useState)(!1),k=Object(o.a)(v,2),w=k[0],_=k[1];console.log(t),console.log(p),console.log(h),Object(l.useEffect)((function(){var e=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(null),console.log("fetchDraftGroup called"),s){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,s.api.getDraftGroup(r);case 6:t=e.sent,console.log(t),h(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s,r]),Object(l.useEffect)((function(){var e=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O([]),console.log("fetchDrafts called"),s){e.next=4;break}return e.abrupt("return");case 4:if(p){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,s.api.getDrafts(p.draft_indices);case 8:t=e.sent,console.log(t),O(t.map((function(e){return Object.assign(e[1].lockup,{id:e[0]})})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s,p]);var y=Object(d.g)(),C=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),a("".concat(t," failed with error: '").concat(e.t0,"'")),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return p?Object(ae.jsxs)("div",{className:"container",children:[Object(ae.jsxs)("div",{className:"draft-group-preview-wrapper",children:[Object(ae.jsx)("h5",{children:"Draft group ".concat(r)}),Object(ae.jsx)(Pe,{token:t,amount:g(p.total_amount,t.decimals)}),!p.funded&&Object(ae.jsx)("div",{style:{marginTop:20},children:Object(ae.jsx)(We,{draftGroupIndex:r,amount:p.total_amount})}),p.funded&&p.draft_indices.length>0&&Object(ae.jsx)(oe.a,{className:"button fullWidth",type:"button",onClick:function(){var e=function(){var e=Object(c.a)(i.a.mark((function e(){var t,o,l,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new Error("near is null");case 2:e.prev=2,_(!0),t=p.draft_indices,o=100,l=i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(n,n+o),e.next=3,C("Convert drafts",Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.api.convertDrafts(a);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})),u=0;case 8:if(!(u<t.length)){e.next=13;break}return e.delegateYield(l(u),"t0",10);case 10:u+=o,e.next=8;break;case 13:a("Converted drafts for draft group ".concat(r)),d=n.pathname.split("/")[1],y("/".concat(d,"/admin/lockups")),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(2),console.log("ERROR: ".concat(e.t1));case 21:return e.prev=21,_(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,18,21,24]])})));return function(){return e.apply(this,arguments)}}();e()},loading:w,variant:"contained",color:"success",children:"Convert"}),p.funded&&0===p.draft_indices.length&&Object(ae.jsx)("div",{style:{marginTop:20},children:Object(ae.jsx)(Fe.a,{severity:"success",children:"Draft Group converted"})})]}),(!p.funded||p.draft_indices.length>0)&&Object(ae.jsx)(ge,{lockups:x,token:t})]}):null}function Re(e){var t=e.token,n=Object(d.f)();console.log(n);var a=Object(l.useContext)(te).near,r=Object(l.useState)([]),s=Object(o.a)(r,2),u=s[0],j=s[1];Object(l.useEffect)((function(){var e=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j([]),console.log("fetchDraftGroup called"),a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a.api.getDraftGroupsAll();case 6:t=e.sent,console.log(t),j(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var p=n.pathname.split("/")[1],h="/".concat(p,"/admin/import_draft_group");return Object(ae.jsxs)("div",{className:"container",children:[Object(ae.jsx)("h1",{children:"All draft groups"}),Object(ae.jsxs)(se.a,{className:"main-table","aria-label":"collapsible table",children:[Object(ae.jsx)(ie.a,{className:"table-head",children:Object(ae.jsxs)(le.a,{children:[Object(ae.jsx)(ue.a,{align:"left",children:"ID"}),Object(ae.jsx)(ue.a,{align:"center",children:"Funded"}),Object(ae.jsx)(ue.a,{align:"right",children:"Number\xa0of\xa0lockups"}),Object(ae.jsx)(ue.a,{align:"right",children:"Total\xa0amount"})]})}),Object(ae.jsx)(de.a,{children:u.map((function(e){return Object(ae.jsxs)(le.a,{children:[Object(ae.jsx)(ue.a,{align:"left",children:Object(ae.jsx)(b.b,{to:"/".concat(p,"/draft_groups/").concat(e.id),children:e.id})}),Object(ae.jsx)(ue.a,{align:"center",children:e.funded?"Yes":"No"}),Object(ae.jsx)(ue.a,{align:"right",children:e.draft_indices.length}),Object(ae.jsxs)(ue.a,{align:"right",children:[g(e.total_amount,t.decimals),"\xa0",t.symbol,"\xa0",Object(ae.jsx)(xe,{url:t.icon||"",size:32})]})]})}))})]}),Object(ae.jsx)("br",{}),Object(ae.jsx)(b.b,{to:h,children:Object(ae.jsx)("button",{className:"button",type:"button",children:"Import Draft Group"})})]})}var Me=n(364);function He(){var e=Object(l.useContext)(te),t=e.near,n=e.signIn;return t?Object(ae.jsxs)("div",{children:[Object(ae.jsx)("div",{className:"header",children:Object(ae.jsx)("div",{className:"container",children:Object(ae.jsx)(Me.a,{sx:{display:"flex"},children:Object(ae.jsx)("div",{className:"nav",children:Object(ae.jsx)(b.b,{className:"nav-link",to:"/",children:"Home"})})})})}),Object(ae.jsxs)("div",{className:"container new-lockup-contract",children:[Object(ae.jsx)("h1",{children:"Create Lockup Contract for your Fungible Tokens"}),Object(ae.jsx)("form",{className:"form-submit",onSubmit:function(e){e.preventDefault();var n=function(){var n=Object(c.a)(i.a.mark((function n(){var a,r,c,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==t&&void 0!==t&&t.signedAccountId){n.next=2;break}throw new Error("expected signedAccountId to be present");case 2:if(a=e.target.elements.lockup_operators.value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),r=e.target.elements.token_account_id.value,c=e.target.elements.lockup_subaccount_id.value,0!==a.length){n.next=7;break}throw new Error("empty lockup operators");case 7:if(0!==r.length){n.next=9;break}throw new Error("empty tokenAccountId");case 9:if(0!==c.length){n.next=11;break}throw new Error("empty lockupSubaccountId");case 11:return n.next=13,t.factoryApi.create(c,r,a,"".concat(window.location.origin+window.location.pathname,"#/").concat(c,".").concat(h,"/admin/lockups"));case 13:return o=n.sent,console.log(o),n.abrupt("return",o);case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()},children:Object(ae.jsxs)("div",{className:"form-wrapper",children:[Object(ae.jsxs)("div",{className:"form-row",children:[Object(ae.jsx)("span",{children:"Contract creator: "}),Object(ae.jsx)("strong",{children:t.signedAccountId})," ",Object(ae.jsx)("button",{className:"button",type:"button",onClick:n,children:t.signedAccountId?"Login as someone else":"Login"})]}),Object(ae.jsxs)("div",{className:"form-row",children:[Object(ae.jsx)("span",{children:"Lockup operators: "}),Object(ae.jsx)("input",{type:"text",id:"lockup_operators"})]}),Object(ae.jsxs)("div",{className:"form-row",children:[Object(ae.jsx)("span",{children:"Fungible token contract address: "}),Object(ae.jsx)("input",{type:"text",id:"token_account_id"})]}),Object(ae.jsxs)("div",{className:"form-row",children:[Object(ae.jsx)("span",{children:"New Lockup Contract Address: "}),Object(ae.jsx)("input",{type:"text",id:"lockup_subaccount_id"})]}),Object(ae.jsx)("button",{className:"button middle",type:"submit",disabled:!t.signedAccountId,children:"Deploy Contract"})]})})]})]}):null}var Ge=n(371),Je=n(192),ze=n(339),Ke=n(343),Ve=n(365),Ye=n(350),Be=n(369),qe=n(368),$e=n(348),Xe=n(353),Ze=n(370),Qe=n(121),et=n.n(Qe),tt=n(347),nt=n(180),at=n(346);function rt(e){var t=e.token,n=Object(l.useContext)(te).near,a=Object(l.useState)(!1),s=Object(o.a)(a,2),u=s[0],d=s[1],b=Object(l.useState)(null),j=Object(o.a)(b,2),h=j[0],f=j[1],m=Object(l.useState)("4_year"),x=Object(o.a)(m,2),O=x[0],v=x[1],g=function(){return d(!1)},w=function(){var e=Object(c.a)(i.a.mark((function e(a){var r,c,s,l,u,d,b,j,f,m,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw Error("Cannot access token api");case 2:if(n.signedAccountId){e.next=4;break}throw new Error("signedAccountId requred to set lockup terminator");case 4:if(h){e.next=6;break}throw Error("Start date not set");case 6:a.preventDefault(),r=a.target.elements,c=r.account,s=r.amount,console.log(c.value,s.value),l=(null===n||void 0===n?void 0:n.api.getContract().contractId)||"","0",u=c.value,d=new p.a(s.value).mul(new p.a(10).pow(t.decimals)).round(0,p.a.roundDown).toString(),b=function(e,t,n){var a=new ye.a(t),r={"4y_cliff_1y_25":[{timestamp:k(e,0),balance:"0"},{timestamp:k(e,1)-1,balance:"0"},{timestamp:k(e,1),balance:a.divn(4).toString()},{timestamp:k(e,4),balance:a.toString()}]};return{"4_year":[r["4y_cliff_1y_25"],null],"4_year_vested":[r["4y_cliff_1y_25"],r["4y_cliff_1y_25"]]}[n]}(h,d,O),j=Object(o.a)(b,2),f=j[0],m=j[1],x=null,m&&(x={payer_id:n.signedAccountId,vesting_schedule:{Schedule:m}}),n.tokenApi.ftTransferCall({receiver_id:l,amount:d.toString(),msg:{account_id:u,schedule:f,termination_config:x,claimed_balance:"0"}});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ae.jsxs)("div",{children:[Object(ae.jsx)("button",{className:"button",type:"button",onClick:function(){return d(!0)},children:"Create Lockup"}),Object(ae.jsx)(ze.a,{open:u,sx:{padding:2},maxWidth:"xs",onClose:g,children:Object(ae.jsxs)("form",{className:"form-submit",onSubmit:w,children:[Object(ae.jsxs)(Ke.a,{children:["Create Lockup",Object(ae.jsx)(be.a,{"aria-label":"close",onClick:g,sx:{position:"absolute",right:8,top:8},children:Object(ae.jsx)(et.a,{})})]}),Object(ae.jsxs)(Ve.a,{sx:{maxWidth:"320px"},children:[Object(ae.jsx)(Ye.a,{margin:"normal",id:"account",label:"Account Id",type:"text",fullWidth:!0,variant:"standard"}),Object(ae.jsx)(Ye.a,{margin:"normal",id:"amount",label:"Amount",type:"number",variant:"standard",InputProps:{endAdornment:Object(ae.jsx)(Be.a,{position:"end",children:t.symbol})},fullWidth:!0}),Object(ae.jsx)("br",{}),Object(ae.jsx)(qe.a,{fullWidth:!0,sx:{marginTop:"20px"},children:Object(ae.jsxs)($e.a,{id:"schedule-select",value:O,label:"Schedule",onChange:function(e){v(e.target.value)},variant:"standard",fullWidth:!0,children:[Object(ae.jsx)(Xe.a,{value:"4_year",children:"4 year lockup with 25% cliff in 1 year"}),Object(ae.jsx)(Xe.a,{value:"4_year_vested",children:"4 year lockup with 25% cliff in 1 year (VESTED)"})]})}),Object(ae.jsx)(nt.a,{dateAdapter:tt.a,children:Object(ae.jsx)(at.a,{label:"Start date",value:h,onChange:function(e){f(e)},renderInput:function(e){return Object(ae.jsx)(Ye.a,Object(r.a)({margin:"normal",fullWidth:!0,variant:"standard"},e))}})})]}),Object(ae.jsx)(Ze.a,{sx:{padding:"14px 24px 24px"},children:Object(ae.jsx)("button",{disabled:!h,className:"button fullWidth noMargin",type:"submit",children:"Create"})})]})})]})}var ct=function(e){var t=Object(l.useContext)(te).near,n=e.adminControls,a=e.lockupIndex,s=e.config,d=e.token,b=Object(u.b)().enqueueSnackbar,j=Object(l.useState)(!1),h=Object(o.a)(j,2),f=h[0],m=h[1],x=Object(l.useState)(null),O=Object(o.a)(x,2),v=O[0],g=O[1],k=function(){return m(!1)};if(!t)throw Error("Cannot access lockup api");if(void 0===a)throw Error("Cannot terminate lockup without lockupIndex");var w,_,y=function(){var e=Object(c.a)(i.a.mark((function e(){var n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return n=v?v.getTime()/1e3:null,e.next=5,t.api.terminate(a,n);case 5:r=e.sent,c=new p.a(r).div(new p.a(10).pow(d.decimals)).round(2,p.a.roundDown),console.log(c),o="Terminated lockup #".concat(a,", refunded ").concat(c," ").concat(d.symbol),b(o),setTimeout((function(){return window.location.reload()}),1e3);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s?(w="Terminate",_="Unvested amount will return to ".concat(s.payer_id)):(w="No termination config",_="This lockup cannot be terminated");var C=n&&s;return Object(ae.jsxs)("div",{children:[Object(ae.jsx)("button",{className:"button red fullWidth",disabled:!C,type:"button",onClick:function(){return m(!0)},children:w}),Object(ae.jsx)("span",{className:"fine-print",children:_}),Object(ae.jsx)(ze.a,{open:f,sx:{padding:2},maxWidth:"xs",onClose:k,children:Object(ae.jsxs)("form",{className:"form-submit",children:[Object(ae.jsxs)(Ke.a,{children:["Create Lockup",Object(ae.jsx)(be.a,{"aria-label":"close",onClick:k,sx:{position:"absolute",right:8,top:8},children:Object(ae.jsx)(et.a,{})})]}),Object(ae.jsxs)(Ve.a,{sx:{maxWidth:"320px"},children:[Object(ae.jsx)(nt.a,{dateAdapter:tt.a,children:Object(ae.jsx)(at.a,{label:"Custom termination date",minDate:new Date,value:v,onChange:function(e){g(e)},renderInput:function(e){return Object(ae.jsx)(Ye.a,Object(r.a)({sx:{margin:"20px 0 40px"},margin:"normal",fullWidth:!0,variant:"standard"},e))}})}),Object(ae.jsx)("button",{className:"button red fullWidth",type:"button",onClick:y,children:"Terminate"})]})]})})]})};function ot(e){var t,n,a=Object(l.useState)(!1),r=Object(o.a)(a,2),c=r[0],s=r[1],i=e.adminControls,u=e.row,d=e.token;if(!Object(l.useContext)(te).near)return null;var j=null===u||void 0===u||null===(t=u.termination_config)||void 0===t||null===(n=t.vesting_schedule)||void 0===n?void 0:n.Schedule;return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)(le.a,{className:c?"expanded exp-row":"exp-row",sx:{"& > *":{borderBottom:"unset"}},children:[Object(ae.jsx)(ue.a,{children:Object(ae.jsx)(be.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!c)},children:c?Object(ae.jsx)(he.a,{}):Object(ae.jsx)(me.a,{})})}),Object(ae.jsx)(ue.a,{align:"left",children:u.id}),Object(ae.jsx)(ue.a,{align:"left",children:Object(ae.jsx)(b.b,{to:"".concat(u.account_id),children:u.account_id})}),Object(ae.jsx)(ue.a,{align:"right",children:v(u.schedule[0].timestamp)}),Object(ae.jsx)(ue.a,{align:"right",children:v(u.schedule[u.schedule.length-1].timestamp)}),Object(ae.jsx)(ue.a,{align:"center",children:j?"Yes":"No"}),Object(ae.jsxs)(ue.a,{align:"right",children:[g(u.total_balance,d.decimals),"\xa0",d.symbol,"\xa0",Object(ae.jsx)(xe,{url:d.icon||"",size:32})]}),Object(ae.jsx)(ue.a,{align:"center",children:Object(ae.jsxs)("div",{className:"progress-bar",children:[Object(ae.jsx)("div",{style:{width:"".concat(u.claimed_balance/u.total_balance*100,"%")},className:"claimed",children:Object(ae.jsx)("span",{children:g(u.claimed_balance,d.decimals)})}),Object(ae.jsx)("div",{style:{width:"".concat(u.unclaimed_balance/u.total_balance*100,"%")},className:"available",children:Object(ae.jsx)("span",{children:g(u.unclaimed_balance,d.decimals)})}),Object(ae.jsx)("div",{style:{width:"".concat((u.total_balance-u.claimed_balance-u.unclaimed_balance)/u.total_balance*100,"%")},className:"vested",children:Object(ae.jsx)("span",{children:(u.total_balance-u.claimed_balance-u.unclaimed_balance)/u.total_balance>.2&&g(u.total_balance-u.claimed_balance-u.unclaimed_balance,d.decimals)})}),Object(ae.jsx)("div",{style:{width:"".concat(100*(u.total_balance-u.total_balance),"%")},className:"unvested",children:"\xa0"})]})})]}),Object(ae.jsx)(le.a,{sx:{background:"#F4FAFF"},children:Object(ae.jsx)(ue.a,{style:{padding:0},colSpan:8,children:Object(ae.jsx)(je.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(ae.jsx)("div",{className:"lockup-row",children:Object(ae.jsxs)("div",{style:{display:"flex",gap:20},children:[Object(ae.jsx)(Oe,{schedule:u.schedule,title:"Lockup schedule",token:d}),j&&Object(ae.jsx)(Oe,{schedule:j,title:"Vesting schedule",token:d}),Object(ae.jsx)("div",{className:"terminate",children:Object(ae.jsx)(ct,{token:d,adminControls:i,lockupIndex:u.id,config:u.termination_config})})]})})})})})]})}function st(e){var t=e.lockups,n=e.token,a=e.adminControls;return Object(ae.jsxs)(se.a,{className:"main-table","aria-label":"collapsible table",children:[Object(ae.jsx)(ie.a,{className:"table-head",children:Object(ae.jsxs)(le.a,{children:[Object(ae.jsx)(ue.a,{}),Object(ae.jsx)(ue.a,{align:"left",children:"ID"}),Object(ae.jsx)(ue.a,{align:"left",children:"Account ID"}),Object(ae.jsx)(ue.a,{align:"right",children:"Start\xa0date"}),Object(ae.jsx)(ue.a,{align:"right",children:"End\xa0date"}),Object(ae.jsx)(ue.a,{align:"center",children:"Terminatable"}),Object(ae.jsx)(ue.a,{align:"right",children:"Total\xa0amount"}),Object(ae.jsx)(ue.a,{align:"center",children:"Progress"})]})}),Object(ae.jsx)(de.a,{children:t.map((function(e){return Object(ae.jsx)(ot,{row:e,token:n,adminControls:a},e.id)}))})]})}function it(e){var t=e.lockups,n=e.token,a=e.adminControls,r=Array.from(new Set(t.map((function(e){return e.account_id}))));console.log("unique users",r);var c=Object(l.useContext)(te).near;if(!c)return null;var o=c.signedIn,s=c.isAdmin;return Object(ae.jsxs)("div",{className:"container",children:[o&&a&&s&&Object(ae.jsx)(rt,{token:n}),Object(ae.jsx)(Ge.a,{sx:{boxShadow:"unset",margin:"0 0 20px"},component:Je.a,children:Object(ae.jsx)(st,{lockups:t,token:n,adminControls:a})})]})}var lt=function(e){var t=Object(l.useContext)(te).near,n=e.accountId,a=e.token,r=e.total;if(!t)throw Error("Cannot access lockup api");if(!n)throw Error("Undefined account cannot claim");return Object(ae.jsxs)("div",{className:"claim-wrapper",children:[Object(ae.jsx)("h5",{children:"Total available"}),Object(ae.jsx)(Pe,{token:a,amount:r}),Object(ae.jsx)("button",{className:"button fullWidth",type:"button",onClick:function(){t.noLoginApi.claim(n)},children:"Claim All"})]})};function ut(e){var t=e.lockups,n=e.token,a=e.adminControls,r=Object(d.h)().userId,c=t.filter((function(e){return e.account_id===r})),o=c.reduce((function(e,t){return e+parseFloat(t.unclaimed_balance)}),0);return console.log("user lockups",r,c),Object(ae.jsxs)("div",{className:"container",children:[!a&&Object(ae.jsx)(lt,{accountId:r,token:n,total:g(o,n.decimals)}),Object(ae.jsx)(Ge.a,{sx:{boxShadow:"unset"},component:Je.a,children:Object(ae.jsxs)(se.a,{className:"main-table","aria-label":"collapsible table",children:[Object(ae.jsx)(ie.a,{className:"table-head",children:Object(ae.jsxs)(le.a,{children:[Object(ae.jsx)(ue.a,{}),Object(ae.jsx)(ue.a,{align:"left",children:"ID"}),Object(ae.jsx)(ue.a,{align:"left",children:"Account ID"}),Object(ae.jsx)(ue.a,{align:"right",children:"Start\xa0date"}),Object(ae.jsx)(ue.a,{align:"right",children:"End\xa0date"}),Object(ae.jsx)(ue.a,{align:"right",children:"Terminatable"}),Object(ae.jsx)(ue.a,{align:"right",children:"Total\xa0amount"}),Object(ae.jsx)(ue.a,{align:"center",children:"Progress"})]})}),Object(ae.jsx)(de.a,{children:c.map((function(e){return Object(ae.jsx)(ot,{row:e,token:n,adminControls:a},e.id)}))})]})})]})}function dt(e){var t=e.adminControls,n=Object(d.f)().pathname.split("/")[1],a=Object(l.useContext)(te),r=a.near,c=a.signOut;if(!r)return null;var o=r.signedIn,s=r.signedAccountId,i=r.isAdmin;return Object(ae.jsx)("div",{className:"header",children:Object(ae.jsx)("div",{className:"container",children:Object(ae.jsxs)(Me.a,{sx:{display:"flex"},children:[Object(ae.jsxs)("div",{className:"nav",children:[Object(ae.jsx)(b.b,{className:"nav-link",to:"/".concat(n,t&&i?"/admin/lockups":"/lockups"),children:"Lockups"}),Object(ae.jsx)(b.b,{className:"nav-link",to:"/".concat(n,t?"/admin/about":"/about"),children:"About"}),t&&Object(ae.jsx)(b.b,{className:"nav-link",to:"/".concat(n,"/admin/draft_groups"),children:"Drafts"})]}),t&&o&&Object(ae.jsxs)(Me.a,{sx:{marginTop:"23px"},children:[Object(ae.jsxs)("span",{children:[s," "]}),Object(ae.jsx)("button",{className:"button",type:"button",onClick:c,children:"Log out"})]})]})})})}function bt(e){var t=e.children;return Object(ae.jsx)("div",{className:"container login",children:t})}var jt=function(){var e=Object(l.useContext)(te),t=e.near,n=e.signIn;if(!t)return null;var a=t.signedIn,r=t.isAdmin;return Object(ae.jsxs)(bt,{children:[a&&!r&&Object(ae.jsx)(Fe.a,{sx:{margin:2,width:"500px"},severity:"error",children:"You are not admin"}),!a&&Object(ae.jsx)("button",{className:"button",type:"button",onClick:n,children:"Sign In"}),a&&r&&Object(ae.jsx)(d.a,{to:"lockups",replace:!0})]})};function pt(e){var t=e.children,n=Object(d.f)(),a=Object(l.useContext)(te).near;if(!a)return null;var r=a.signedIn,c=a.isAdmin,o=n.pathname.split("/")[1];return r&&c?t:Object(ae.jsx)(d.a,{to:"/".concat(o,"/admin"),replace:!0})}var ht,ft=n(182),mt=n.n(ft),xt=["title","titleId"];function Ot(){return Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ot.apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gt(e,t){var n=e.title,a=e.titleId,r=vt(e,xt);return l.createElement("svg",Ot({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?l.createElement("title",{id:a},n):null,ht||(ht=l.createElement("path",{d:"M20.0333 1.22667L14.8169 8.66669C14.4561 9.17333 15.1498 9.78667 15.6492 9.36L20.7824 5.06669C20.9212 4.95998 21.1154 5.04 21.1154 5.22667V18.64C21.1154 18.8267 20.8657 18.9067 20.7547 18.7733L5.2164 0.906667C4.71698 0.32 3.99556 0 3.1909 0H2.63596C1.19312 0 0 1.14667 0 2.56V21.44C0 22.8533 1.19312 24 2.6637 24C3.57936 24 4.43951 23.5467 4.93895 22.7733L10.1554 15.3333C10.5161 14.8267 9.82243 14.2133 9.32298 14.64L4.18979 18.9067C4.05105 19.0133 3.85682 18.9333 3.85682 18.7467V5.36002C3.85682 5.17334 4.10654 5.09333 4.21753 5.22667L19.7558 23.0933C20.2553 23.68 21.0044 24 21.7813 24H22.3363C23.8069 24 25 22.8533 25 21.44V2.56C24.9722 1.14667 23.7791 0 22.3085 0C21.3929 0 20.5327 0.453333 20.0333 1.22667Z",fill:"#00B988"})))}var kt=l.forwardRef(gt);n.p;function wt(e){var t=e.lockups,n=Object(l.useState)("ft-lockup.demo006.ft-lockup.testnet"),a=Object(o.a)(n,2),r=a[0],c=a[1];return Object(ae.jsxs)("div",{children:[Object(ae.jsxs)("div",{className:"container home",children:[Object(ae.jsxs)("ul",{className:"home-list",children:[Object(ae.jsxs)("li",{children:[Object(ae.jsx)("span",{className:"near-icon-bg",children:Object(ae.jsx)(kt,{})}),Object(ae.jsxs)("div",{children:[Object(ae.jsx)("span",{children:"Total contracts"}),Object(ae.jsx)("b",{children:"256"})]})]}),Object(ae.jsxs)("li",{children:[Object(ae.jsx)("span",{className:"near-icon-bg",children:Object(ae.jsx)(kt,{})}),Object(ae.jsxs)("div",{children:[Object(ae.jsx)("span",{children:"Total locked"}),Object(ae.jsx)("b",{children:"$5,336,000"})]})]}),Object(ae.jsxs)("li",{children:[Object(ae.jsx)("span",{className:"near-icon-bg",children:Object(ae.jsx)(kt,{})}),Object(ae.jsxs)("div",{children:[Object(ae.jsx)("span",{children:"Total lockups"}),Object(ae.jsx)("b",{children:(null===t||void 0===t?void 0:t.length)||42})]})]})]}),Object(ae.jsx)("h2",{children:"The best DApp on NEAR to manage token vesting"}),Object(ae.jsx)("p",{children:"With our lockup contracts you can ...."}),Object(ae.jsx)(b.b,{to:"/new_lockup_contract",className:"button large link-button",children:"Create new Lockup Contract"})]}),Object(ae.jsx)("div",{className:"white-block",children:Object(ae.jsxs)("div",{className:"container home",children:[Object(ae.jsx)("h2",{children:"If you already have a lockup contract, enter its address below"}),Object(ae.jsx)(Ye.a,{variant:"outlined",value:r,onChange:function(e){c(e.target.value)},className:"input-large",placeholder:"Lockup contract address"}),Object(ae.jsx)("button",{className:"button link-button icon-button",onClick:function(){var e="".concat(window.location.origin.toString(),"#/").concat(r,"/lockups");window.location.assign(e),window.location.reload()},"aria-label":"open",type:"button",style:{height:56,width:56},children:Object(ae.jsx)(mt.a,{})})]})})]})}function _t(e){var t=e.lockups,n=e.token,a=e.contractId;return t?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(dt,{adminControls:!1}),Object(ae.jsxs)(d.d,{children:[Object(ae.jsx)(d.b,{path:"/",element:Object(ae.jsx)(d.a,{replace:!0,to:"lockups"})}),Object(ae.jsx)(d.b,{path:"/about",element:Object(ae.jsx)(re,{lockups:t,token_account_id:a})}),Object(ae.jsx)(d.b,{path:"/lockups",element:Object(ae.jsx)(it,{lockups:t,token:n,adminControls:!1})}),Object(ae.jsx)(d.b,{path:"/lockups/:userId",element:Object(ae.jsx)(ut,{lockups:t,token:n,adminControls:!1})}),Object(ae.jsx)(d.b,{path:"/draft_groups/:draftGroupId",element:Object(ae.jsx)(pt,{children:Object(ae.jsx)(Le,{token:n})})})]})]}):null}function yt(e){var t=e.lockups,n=e.token,a=e.tokenContractId;return t?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(dt,{adminControls:!0}),Object(ae.jsxs)(d.d,{children:[Object(ae.jsx)(d.b,{path:"/",element:Object(ae.jsx)(jt,{})}),Object(ae.jsx)(d.b,{path:"/about",element:Object(ae.jsx)(re,{lockups:t,token_account_id:a})}),Object(ae.jsx)(d.b,{path:"/lockups",element:Object(ae.jsx)(pt,{children:Object(ae.jsx)(it,{lockups:t,token:n,adminControls:!0})})}),Object(ae.jsx)(d.b,{path:"/lockups/:userId",element:Object(ae.jsx)(pt,{children:Object(ae.jsx)(ut,{lockups:t,token:n,adminControls:!0})})}),Object(ae.jsx)(d.b,{path:"/draft_groups",element:Object(ae.jsx)(pt,{children:Object(ae.jsx)(Re,{token:n})})}),Object(ae.jsx)(d.b,{path:"/draft_groups/:draftGroupId",element:Object(ae.jsx)(pt,{children:Object(ae.jsx)(Le,{token:n})})}),Object(ae.jsx)(d.b,{path:"/import_draft_group",element:Object(ae.jsx)(pt,{children:Object(ae.jsx)(Ue,{token:n})})})]})]}):null}function Ct(){var e=Object(u.b)().enqueueSnackbar,t=Object(l.useContext)(te).near,n=Object(l.useState)({}),a=Object(o.a)(n,2),r=a[0],s=a[1],j=Object(l.useState)(null),h=Object(o.a)(j,2),f=h[0],m=h[1],x=Object(l.useState)({decimals:0,icon:null,name:"",reference:null,reference_hash:null,spec:"",symbol:""}),O=Object(o.a)(x,2),v=O[0],g=O[1];Object(l.useEffect)((function(){if(e&&t&&v&&""!==v.spec){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var a,r,c,o,s,l,u,d,b,j,h,f,m,x,O,g,k,w,_,C;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=new URLSearchParams(window.location.search),r=a.get("transactionHashes")){n.next=4;break}return n.abrupt("return");case 4:return c=r.split(",")[0],console.log("txHash",c),n.next=8,t.rpcProvider.txStatus(c,"sender.testnet");case 8:if(o=n.sent,console.log(o),s=o.transaction.actions[0].FunctionCall.method_name,l=o.status.SuccessValue,u=JSON.parse(atob(o.transaction.actions[0].FunctionCall.args)),"claim"!==s){n.next=22;break}if(!l){n.next=20;break}if("0"===(d=JSON.parse(atob(l)))){n.next=20;break}return b=new p.a(d).div(new p.a(10).pow(v.decimals)).round(2,p.a.roundDown),e("Claimed ".concat(b," ").concat(v.symbol)),n.abrupt("return");case 20:return e("Claim failed: ".concat(y(c))),n.abrupt("return");case 22:if("ft_transfer_call"!==s){n.next=50;break}if(j=JSON.parse(u.msg),console.log(j),!j.schedule){n.next=37;break}if(h=JSON.parse(atob(l)),f=new p.a(h).div(new p.a(10).pow(v.decimals)).round(2,p.a.roundDown),console.log(f),j.schedule[j.schedule.length-1].balance!==h){n.next=34;break}return m="Created lockup for ".concat(j.account_id," with amount ").concat(f," ").concat(v.symbol),e(m),n.abrupt("return");case 34:return x="Failed to create lockup for ".concat(j.account_id,": ").concat(y(c)),e(x),n.abrupt("return");case 37:if(null===j.draft_group_id){n.next=48;break}if(O=JSON.parse(atob(l)),g=new p.a(O).div(new p.a(10).pow(v.decimals)).round(2,p.a.roundDown),console.log(g),"0"===O){n.next=45;break}return k="Funded draft group ".concat(j.draft_group_id," with amount ").concat(g," ").concat(v.symbol),e(k),n.abrupt("return");case 45:return w="Failed to fund draft group ".concat(j.draft_group_id,": ").concat(y(c)),e(w),n.abrupt("return");case 48:return e("Transaction performed, TODO ".concat(c,"!")),n.abrupt("return");case 50:if("terminate"!==s){n.next=59;break}if(!l){n.next=57;break}return _=JSON.parse(atob(l)),console.log(_),C=new p.a(_).div(new p.a(10).pow(v.decimals)).round(2,p.a.roundDown),e("Terminated lockup #".concat(u.lockup_index,", unvested amount: ").concat(C)),n.abrupt("return");case 57:return e("Terminate lockup failed: ".concat(y(c))),n.abrupt("return");case 59:e('UNHANDLED Transaction "'.concat(s,'" : ').concat(y(c)));case 60:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}}),[e,t,v]),Object(l.useEffect)((function(){var e=!0;if(t){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var a,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.loadAllLockups();case 2:return a=n.sent,n.next=5,t.tokenApi.ftMetadata();case 5:if(r=n.sent,e){n.next=8;break}return n.abrupt("return");case 8:g(r),s({lockups:a,name:"name"});case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();t.tokenContractId&&n()}return function(){e=!1}}),[t]),Object(l.useEffect)((function(){return t&&t.tokenApi&&m(t.tokenApi.getContract().contractId),function(){}}),[t]);var k=r.lockups;return Object(ae.jsx)(b.a,{children:Object(ae.jsxs)(d.d,{children:[Object(ae.jsx)(d.b,{path:"/",element:Object(ae.jsx)(wt,{lockups:k})}),Object(ae.jsx)(d.b,{path:"/new_lockup_contract/",element:Object(ae.jsx)(He,{})}),Object(ae.jsx)(d.b,{path:"/:cid/*",element:Object(ae.jsx)(_t,{lockups:k,token:v,contractId:f})}),Object(ae.jsx)(d.b,{path:"/:cid/admin/*",element:Object(ae.jsx)(yt,{lockups:k,token:v,tokenContractId:f})})]})})}n(285);function Nt(){var e=Object(l.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1];Object(l.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}try{!function(){e.apply(this,arguments)}()}catch(t){console.log(t)}}),[]);var s=Object(l.useMemo)((function(){return{near:n,signIn:function(){var e;null===n||void 0===n||null===(e=n.api)||void 0===e||e.signIn()},signOut:function(){n&&(n.api.signOut(),a(Object(r.a)(Object(r.a)({},n),{},{signedIn:!1,signedAccountId:null})))}}}),[n]);return Object(ae.jsx)(l.StrictMode,{children:Object(ae.jsx)(te.Provider,{value:s,children:Object(ae.jsx)(u.a,{autoHideDuration:null,children:Object(ae.jsx)(Ct,{})})})})}Object(a.render)(Object(ae.jsx)(Nt,{}),document.getElementById("root"))}},[[286,1,2]]]);
//# sourceMappingURL=main.cb7c2992.chunk.js.map